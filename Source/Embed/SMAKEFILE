# SMAKEFILE for Python 2.7.18 Embed directory
# Based on Python 2.0 source but updated for 2.7.18

all: test

PSRC=../

CLIBS = ../Amiga/amigapythonamitcp.lib LIB:scm881nb.lib LIB:scnb.lib

LINKOPTS = SC BATCH NOICONS STRIPDEBUG

LIBS = $(PSRC)Modules/Modules.lib $(PSRC)Parser/Parser.lib $(PSRC)Python/Python.lib $(PSRC)Objects/Objects.lib $(PSRC)expat/lib/expat.lib $(CLIBS)

OBJECTS=test.o

test: test.o AmigaPythonEmbed.o
	SLINK WITH <<
TO test
FROM lib:c.o
test.o AmigaPythonEmbed.o
$(PSRC)Modules/getbuildinfo.o
LIB $(LIBS)
$(LINKOPTS)
<<

test.o: test.c
	SC NOLINK test.c

AmigaPythonEmbed.o: AmigaPythonEmbed.c
	SC NOLINK AmigaPythonEmbed.c

clean:
	-delete \#?.o test

# --- DO NOT MODIFY THIS LINE -- AUTO-DEPENDS PRECEDE --- 